"use strict";(globalThis["webpackChunkquasar_bgb_matchmanagement"]=globalThis["webpackChunkquasar_bgb_matchmanagement"]||[]).push([[310],{2310:(t,a,i)=>{i.r(a),i.d(a,{default:()=>B});var e=i(9835),c=i(6970);const n={class:"q-pa-md"},s={class:"q-pa-md",style:{"max-width":"500px"}},o={class:"q-pa-md bg-grey-10 text-white",style:{"max-width":"500px"}},r={class:"q-gutter-y-md column",style:{"max-width":"470px"}},l={class:"q-pa-md",style:{"max-width":"470px"}},h={class:"q-pa-md",style:{"max-width":"470px"}};function p(t,a,i,p,k,u){const m=(0,e.up)("q-item-label"),d=(0,e.up)("q-item-section"),b=(0,e.up)("q-item"),w=(0,e.up)("q-list"),g=(0,e.up)("q-btn-dropdown"),f=(0,e.up)("q-toolbar-title"),P=(0,e.up)("q-toolbar"),v=(0,e.up)("q-input"),A=(0,e.up)("q-img"),x=(0,e.up)("q-page"),y=(0,e.Q2)("close-popup"),_=(0,e.Q2)("ripple");return(0,e.wg)(),(0,e.j4)(x,null,{default:(0,e.w5)((()=>[(0,e._)("div",n,[(0,e.Wm)(g,{split:"",color:"primary",push:"",glossy:"","no-caps":"",icon:"star",label:"Spiel auswählen",onClick:u.onPositionMatchMainClick},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.matchIndex,(t=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{key:t},{default:(0,e.w5)((()=>[t>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:a=>u.onMatchClick(k.matchMatch[t],k.matchTime[t],k.matchAnnotations[t],k.matchDate[t])},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.matchMatch[t]),1)])),_:2},1024),(0,e.Wm)(m,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.matchDate[t])+" - "+(0,c.zw)(k.matchTime[t]),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]):(0,e.kq)("",!0)])),_:2},1024)),[[_]]))),128))])),_:1},8,["onClick"])]),(0,e._)("div",s,[(0,e.Wm)(P,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Wm)(f,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(p.txtMatchName),1)])),_:1})])),_:1})]),(0,e._)("div",o,[(0,e._)("div",r,[(0,e.Wm)(v,{dark:"",outlined:"",modelValue:p.txtMatchAnnotations,"onUpdate:modelValue":a[0]||(a[0]=t=>p.txtMatchAnnotations=t),type:"textarea",readonly:!0},null,8,["modelValue"])]),(0,e._)("div",l,[(0,e.Wm)(P,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Anwesend, Ankunft, Notiz ")])),_:1})]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.participantIndex,(t=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:t},{default:(0,e.w5)((()=>[t>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:a=>u.onParticipantClick(k.participantPosition[t],k.participantParticipant[t],k.participantArrival[t],k.participantAnnotations[t],k.participantAction[t],k.participantReaction[t])},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,{overline:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantParticipant[t]),1)])),_:2},1024),(0,e.Wm)(m,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantArrival[t]),1)])),_:2},1024),(0,e.Wm)(m,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantAnnotations[t]),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[_]]):(0,e.kq)("",!0)])),_:2},1024)),[[_]]))),128)),(0,e._)("div",h,[(0,e.Wm)(P,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Karte weitergegeben oder bedarf (Karte hat dabei) ")])),_:1})]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.ticketIndex,(i=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:i},{default:(0,e.w5)((()=>[i>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:a[1]||(a[1]=a=>t.onTicketClick())},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,{overline:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.ticket[i]),1)])),_:2},1024),(0,e.Wm)(m,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.ticketAnnotations[i]),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[_]]):(0,e.kq)("",!0)])),_:2},1024)),[[_]]))),128))]),(0,e.Wm)(A,{src:"statics/BGB.jpg",class:"header-image absolute-top"})])),_:1})}var k=i(499);const u=(0,k.iH)(""),m=(0,k.iH)(""),d=(0,k.iH)(""),b=(0,k.iH)(""),w=(0,k.iH)(""),g=(0,k.iH)(""),f=(0,k.iH)(""),P=(0,k.iH)(""),v=(0,k.iH)(""),A=(0,k.iH)(""),x=(0,k.iH)(""),y={name:"ListParticipant",setup(){return{txtMatchName:(0,k.iH)(w),txtMatchAnnotations:(0,k.iH)(d)}},data(){return{URLMatch:"https://script.google.com/macros/s/AKfycbxnei8jcKTw_SBb0Qr5k5Z4KgEzxDGQERJD4YDoOND0CRw9cOCIU5Xv7ciyG_EBkO8uXA/exec?ID=1znyBnIzqghCeRImZ8fSVGB_gR6TESuqep20YbUhkhSU&SH=BGB-Match",URLParticipant:"https://script.google.com/macros/s/AKfycbyGo9ysE4UNyuwgQNgW_IbNEUwQzoEDfDfk1lXG37pCqIriOWbKKqpOB3AgC8PdA1JAFA/exec?ID=1HCZKuGO-dmNJwrEsFyN2acvnE-WMHabBW8jWdhO4ggI&SH=BGB-Participant",matchIndex:[],matchPosition:[],matchMatch:[],matchTime:[],matchAnnotations:[],matchDate:[],participantIndex:[],participantPosition:[],participantMatch:[],participantParticipant:[],participantArrival:[],participantAnnotations:[],participantAction:[],participantReaction:[],reservation:"",ticketIndex:[],ticketPosition:[],ticket:[],ticketParticipant:[],ticketAnnotations:[],ticketAction:[],ticketReaction:[]}},computed:{},mounted(){this.getTableMatch()},methods:{getTableMatch(){this.matchIndex=[],this.matchPosition=[],this.matchMatch=[],this.matchTime=[],this.matchAnnotations=[],this.matchDate=[],console.log("URLMatch: "+this.URLMatch+"&func=Read&published=TRUE"),this.$axios(`${this.URLMatch}&func=Read&published=TRUE`).then((t=>{this.tableMatch=t.data.split("\n");for(let a=0;a<this.tableMatch.length-1;a++){const t=this.tableMatch[a].split(",");for(let i=0;i<t.length;i++)switch(i){case 0:this.matchIndex[a+1]=a+1,this.matchPosition[a+1]=t[i];break;case 2:this.matchMatch[a+1]=t[i];break;case 4:this.matchTime[a+1]=t[i].substr(0,5);break;case 5:this.matchAnnotations[a+1]=t[i];break;case 6:this.matchDate[a+1]=t[i];break;default:break}}this.onMatchClick(this.matchMatch[1],this.matchTime[1],this.matchAnnotations[1],this.matchDate[1])})).catch((t=>{console.log(t)}))},onPositionMatchMainClick(){console.log("Clicked on main button")},onMatchClick(t,a,i,e){console.log("Clicked on an Match: "+t+", "+a+", "+i+", "+e),u.value=t,m.value=a,b.value=e,w.value=t.trim()+" "+e.substr(0,6)+e.substr(8,2)+" - "+a,this.getTableParticipant(w.value,a,i),this.getTableTicket(w.value)},onParticipantClick(t,a,i,e,c,n){console.log("Clicked on an Participant: "+t+", "+a+", "+i+", "+e+", "+c+", "+n),g.value=t,f.value=a,P.value=i,v.value=e,A.value=c,x.value=n},getTableParticipant(t,a,i){this.participantIndex=[],this.participantPosition=[],this.participantMatch=[],this.participantParticipant=[],this.participantArrival=[],this.participantAnnotations=[],this.participantAction=[],this.participantReaction=[],this.reservation="",console.log("URLParticipant: "+this.URLParticipant+"&func=Read&match="+t),this.$axios(`${this.URLParticipant}&func=Read&match=${t}`).then((t=>{this.tableParticipant=t.data.split("\n");for(let i=0;i<this.tableParticipant.length-1;i++){const t=this.tableParticipant[i].split(",");for(let e=0;e<t.length;e++)switch(e){case 0:this.participantIndex[i+1]=i+1,this.participantPosition[i+1]=t[e];break;case 2:this.participantMatch[i+1]=t[e];break;case 3:this.participantParticipant[i+1]=t[e];break;case 4:this.participantArrival[i+1]=t[e].substr(0,5),parseInt(this.participantArrival[i+1].substr(0,2))===parseInt(a.substr(0,2)-2)&&this.participantArrival[i+1].substr(3,2)===a.substr(3,2)?(""!==this.reservation&&(this.reservation+=", "),this.reservation+=this.participantParticipant[i+1]):this.reservation+="";break;case 5:this.participantAnnotations[i+1]=t[e];break;case 6:this.participantAction[i+1]=t[e];break;case 7:this.participantReaction[i+1]=t[e];break;default:break}}""!==this.reservation&&(this.reservation+=","),d.value=i.replace("§§§","\n").replace("<STANDARDTEXT>","Wer reserviert Plätze ("+parseInt(a.substr(0,2)-2)+":"+a.substr(3,2)+"): "+this.reservation+" die Fahne und die Socken")})).catch((t=>{console.log(t)}))},getTableTicket(t){this.ticketIndex=[],this.ticketPosition=[],this.ticket=[],this.ticketParticipant=[],this.ticketAnnotations=[],this.ticketAction=[],this.ticketReaction=[],console.log("URLParticipant: "+this.URLParticipant+"&func=ReadTickets&match="+t),this.$axios(`${this.URLParticipant}&func=ReadTickets&match=${t}`).then((t=>{this.tableTicket=t.data.split("\n");for(let a=0;a<this.tableTicket.length-1;a++){const t=this.tableTicket[a].split(",");for(let i=0;i<t.length;i++){switch(i){case 0:this.ticketIndex[a+1]=a+1,this.ticketPosition[a+1]=t[i];break;case 3:this.ticketParticipant[a+1]=t[i];break;case 5:this.ticketAnnotations[a+1]=t[i];break;case 6:this.ticketAction[a+1]=t[i];break;case 7:this.ticketReaction[a+1]=t[i];break;default:break}"brauche Karte"===this.ticketAction[a+1]?this.ticket[a+1]="??? an "+this.ticketParticipant[a+1]:"meine Karte ist frei"===this.ticketAction[a+1]&&(""!==this.ticketReaction[a+1]?this.ticket[a+1]=this.ticketParticipant[a+1]+" an "+this.ticketReaction[a+1]:this.ticket[a+1]=this.ticketParticipant[a+1]+" an ???")}}})).catch((t=>{console.log(t)}))}}};var _=i(1639),R=i(9885),M=i(2387),T=i(3246),U=i(490),I=i(1233),C=i(3115),q=i(1663),W=i(1973),D=i(2543),H=i(335),Q=i(1136),Z=i(2146),z=i(9984),K=i.n(z);const L=(0,_.Z)(y,[["render",p]]),B=L;K()(y,"components",{QPage:R.Z,QBtnDropdown:M.Z,QList:T.Z,QItem:U.Z,QItemSection:I.Z,QItemLabel:C.Z,QToolbar:q.Z,QToolbarTitle:W.Z,QInput:D.Z,QImg:H.Z}),K()(y,"directives",{Ripple:Q.Z,ClosePopup:Z.Z})}}]);