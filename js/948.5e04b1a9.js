"use strict";(globalThis["webpackChunkquasar_bgb_matchmanagement"]=globalThis["webpackChunkquasar_bgb_matchmanagement"]||[]).push([[948],{7948:(t,i,a)=>{a.r(i),a.d(i,{default:()=>L});var e=a(9835),c=a(6970);const n={class:"q-pa-md"},s={class:"q-pa-md",style:{"max-width":"500px"}},o={class:"q-pa-md bg-grey-10 text-white",style:{"max-width":"500px"}},r={class:"q-gutter-y-md column",style:{"max-width":"470px"}},h={class:"q-pa-md",style:{"max-width":"470px"}},l={class:"q-pa-md",style:{"max-width":"470px"}};function p(t,i,a,p,k,m){const u=(0,e.up)("q-item-label"),d=(0,e.up)("q-item-section"),b=(0,e.up)("q-item"),w=(0,e.up)("q-list"),g=(0,e.up)("q-btn-dropdown"),f=(0,e.up)("q-toolbar"),P=(0,e.up)("q-input"),v=(0,e.up)("q-img"),A=(0,e.up)("q-page"),x=(0,e.Q2)("close-popup"),y=(0,e.Q2)("ripple");return(0,e.wg)(),(0,e.j4)(A,null,{default:(0,e.w5)((()=>[(0,e._)("div",n,[(0,e.Wm)(g,{split:"",color:"primary",push:"",glossy:"","no-caps":"",icon:"star",label:"Spiel auswählen",onClick:m.onPositionMatchMainClick},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.matchIndex,(t=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{key:t},{default:(0,e.w5)((()=>[t>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:i=>m.onMatchClick(k.matchMatch[t],k.matchTime[t],k.matchAnnotations[t],k.matchDate[t])},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(u,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.matchMatch[t]),1)])),_:2},1024),(0,e.Wm)(u,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.matchDate[t])+" - "+(0,c.zw)(k.matchTime[t]),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[x]]):(0,e.kq)("",!0)])),_:2},1024)),[[y]]))),128))])),_:1},8,["onClick"])]),(0,e._)("div",s,[(0,e.Wm)(f,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(p.txtMatchName),1)])),_:1})]),(0,e._)("div",o,[(0,e._)("div",r,[(0,e.Wm)(P,{dark:"",outlined:"",modelValue:p.txtMatchAnnotations,"onUpdate:modelValue":i[0]||(i[0]=t=>p.txtMatchAnnotations=t),type:"textarea",readonly:!0},null,8,["modelValue"])]),(0,e._)("div",h,[(0,e.Wm)(f,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Anwesend, Ankunft, Notiz ")])),_:1})]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.participantIndex,(t=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:t},{default:(0,e.w5)((()=>[t>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:i=>m.onParticipantClick(k.participantPosition[t],k.participantParticipant[t],k.participantArrival[t],k.participantAnnotations[t],k.participantAction[t],k.participantReaction[t])},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(u,{overline:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantParticipant[t]),1)])),_:2},1024),(0,e.Wm)(u,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantArrival[t]),1)])),_:2},1024),(0,e.Wm)(u,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.participantAnnotations[t]),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]):(0,e.kq)("",!0)])),_:2},1024)),[[y]]))),128)),(0,e._)("div",l,[(0,e.Wm)(f,{class:"bg-primary text-white"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Karte weitergegeben oder bedarf (Karte hat dabei) ")])),_:1})]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(k.ticketIndex,(a=>(0,e.wy)(((0,e.wg)(),(0,e.j4)(w,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:a},{default:(0,e.w5)((()=>[a>0?(0,e.wy)(((0,e.wg)(),(0,e.j4)(b,{key:0,clickable:"",onClick:i[1]||(i[1]=i=>t.onTicketClick())},{default:(0,e.w5)((()=>[(0,e.Wm)(d,null,{default:(0,e.w5)((()=>[(0,e.Wm)(u,{overline:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.ticket[a]),1)])),_:2},1024),(0,e.Wm)(u,{caption:""},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(k.ticketAnnotations[a]),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[y]]):(0,e.kq)("",!0)])),_:2},1024)),[[y]]))),128))]),(0,e.Wm)(v,{src:"statics/BGB.jpg",class:"header-image absolute-top"})])),_:1})}var k=a(499);const m=(0,k.iH)(""),u=(0,k.iH)(""),d=(0,k.iH)(""),b=(0,k.iH)(""),w=(0,k.iH)(""),g=(0,k.iH)(""),f=(0,k.iH)(""),P=(0,k.iH)(""),v=(0,k.iH)(""),A=(0,k.iH)(""),x=(0,k.iH)(""),y={name:"ListParticipant",setup(){return{txtMatchName:(0,k.iH)(w),txtMatchAnnotations:(0,k.iH)(d)}},data(){return{URLMatch:"https://script.google.com/macros/s/AKfycbxnei8jcKTw_SBb0Qr5k5Z4KgEzxDGQERJD4YDoOND0CRw9cOCIU5Xv7ciyG_EBkO8uXA/exec?ID=1znyBnIzqghCeRImZ8fSVGB_gR6TESuqep20YbUhkhSU&SH=BGB-Match",URLParticipant:"https://script.google.com/macros/s/AKfycbyGo9ysE4UNyuwgQNgW_IbNEUwQzoEDfDfk1lXG37pCqIriOWbKKqpOB3AgC8PdA1JAFA/exec?ID=1HCZKuGO-dmNJwrEsFyN2acvnE-WMHabBW8jWdhO4ggI&SH=BGB-Participant",matchIndex:[],matchPosition:[],matchMatch:[],matchTime:[],matchAnnotations:[],matchDate:[],participantIndex:[],participantPosition:[],participantMatch:[],participantParticipant:[],participantArrival:[],participantAnnotations:[],participantAction:[],participantReaction:[],reservation:"",ticketIndex:[],ticketPosition:[],ticket:[],ticketParticipant:[],ticketAnnotations:[],ticketAction:[],ticketReaction:[]}},computed:{},mounted(){this.getTableMatch()},methods:{getTableMatch(){this.matchIndex=[],this.matchPosition=[],this.matchMatch=[],this.matchTime=[],this.matchAnnotations=[],this.matchDate=[],console.log("URLMatch: "+this.URLMatch+"&func=Read&published=TRUE"),this.$axios(`${this.URLMatch}&func=Read&published=TRUE`).then((t=>{this.tableMatch=t.data.split("\n");for(let i=0;i<this.tableMatch.length-1;i++){const t=this.tableMatch[i].split(",");for(let a=0;a<t.length;a++)switch(a){case 0:this.matchIndex[i+1]=i+1,this.matchPosition[i+1]=t[a];break;case 2:this.matchMatch[i+1]=t[a];break;case 4:this.matchTime[i+1]=t[a].substr(0,5);break;case 5:this.matchAnnotations[i+1]=t[a];break;case 6:this.matchDate[i+1]=t[a];break;default:break}}this.onMatchClick(this.matchMatch[1],this.matchTime[1],this.matchAnnotations[1],this.matchDate[1])})).catch((t=>{console.log(t)}))},onPositionMatchMainClick(){console.log("Clicked on main button")},onMatchClick(t,i,a,e){console.log("Clicked on an Match: "+t+", "+i+", "+a+", "+e),m.value=t,u.value=i,b.value=e,w.value=t.trim()+" "+e.substr(0,6)+e.substr(8,2)+" - "+i,this.getTableParticipant(w.value,i,a),this.getTableTicket(w.value)},onParticipantClick(t,i,a,e,c,n){console.log("Clicked on an Participant: "+t+", "+i+", "+a+", "+e+", "+c+", "+n),g.value=t,f.value=i,P.value=a,v.value=e,A.value=c,x.value=n},getTableParticipant(t,i,a){this.participantIndex=[],this.participantPosition=[],this.participantMatch=[],this.participantParticipant=[],this.participantArrival=[],this.participantAnnotations=[],this.participantAction=[],this.participantReaction=[],this.reservation="",console.log("URLParticipant: "+this.URLParticipant+"&func=Read&match="+t),this.$axios(`${this.URLParticipant}&func=Read&match=${t}`).then((t=>{this.tableParticipant=t.data.split("\n");for(let a=0;a<this.tableParticipant.length-1;a++){const t=this.tableParticipant[a].split(",");for(let e=0;e<t.length;e++)switch(e){case 0:this.participantIndex[a+1]=a+1,this.participantPosition[a+1]=t[e];break;case 2:this.participantMatch[a+1]=t[e];break;case 3:this.participantParticipant[a+1]=t[e];break;case 4:this.participantArrival[a+1]=t[e].substr(0,5),parseInt(this.participantArrival[a+1].substr(0,2))===parseInt(i.substr(0,2)-2)&&this.participantArrival[a+1].substr(3,2)===i.substr(3,2)?(""!==this.reservation&&(this.reservation+=", "),this.reservation+=this.participantParticipant[a+1]):this.reservation+="";break;case 5:this.participantAnnotations[a+1]=t[e];break;case 6:this.participantAction[a+1]=t[e];break;case 7:this.participantReaction[a+1]=t[e];break;default:break}}""!==this.reservation&&(this.reservation+=","),d.value=a.replace("§§§","\n").replace("<STANDARDTEXT>","Wer reserviert Plätze ("+parseInt(i.substr(0,2)-2)+":"+i.substr(3,2)+"): "+this.reservation+" die Fahne und die Socken")})).catch((t=>{console.log(t)}))},getTableTicket(t){this.ticketIndex=[],this.ticketPosition=[],this.ticket=[],this.ticketParticipant=[],this.ticketAnnotations=[],this.ticketAction=[],this.ticketReaction=[],console.log("URLParticipant: "+this.URLParticipant+"&func=ReadTickets&match="+t),this.$axios(`${this.URLParticipant}&func=ReadTickets&match=${t}`).then((t=>{this.tableTicket=t.data.split("\n");for(let i=0;i<this.tableTicket.length-1;i++){const t=this.tableTicket[i].split(",");for(let a=0;a<t.length;a++){switch(a){case 0:this.ticketIndex[i+1]=i+1,this.ticketPosition[i+1]=t[a];break;case 3:this.ticketParticipant[i+1]=t[a];break;case 5:this.ticketAnnotations[i+1]=t[a];break;case 6:this.ticketAction[i+1]=t[a];break;case 7:this.ticketReaction[i+1]=t[a];break;default:break}"brauche Karte"===this.ticketAction[i+1]?this.ticket[i+1]="??? an "+this.ticketParticipant[i+1]:"meine Karte ist frei"===this.ticketAction[i+1]&&(""!==this.ticketReaction[i+1]?this.ticket[i+1]=this.ticketParticipant[i+1]+" an "+this.ticketReaction[i+1]:this.ticket[i+1]=this.ticketParticipant[i+1]+" an ???")}}})).catch((t=>{console.log(t)}))}}};var _=a(1639),R=a(9885),M=a(2387),T=a(3246),U=a(490),I=a(1233),C=a(3115),q=a(1663),W=a(2543),D=a(335),H=a(1136),z=a(2146),Q=a(9984),Z=a.n(Q);const K=(0,_.Z)(y,[["render",p]]),L=K;Z()(y,"components",{QPage:R.Z,QBtnDropdown:M.Z,QList:T.Z,QItem:U.Z,QItemSection:I.Z,QItemLabel:C.Z,QToolbar:q.Z,QInput:W.Z,QImg:D.Z}),Z()(y,"directives",{Ripple:H.Z,ClosePopup:z.Z})}}]);